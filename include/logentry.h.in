/** ---------------------------------------------------------------------------
 * @fn       logentry.h.in
 * @brief    logentry.h input file for logging functions, used by CMAKE
 * @author   David Hale <dhale@astro.caltech.edu>
 *
 * The file "logentry.h" is automatically generated by cmake.
 * !! DO NOT MAKE ANY CHANGES to logentry.h, as they will be overwritten by cmake !!
 * Make changes ONLY to logentry.h.in
 *
 */
#ifndef LOGENTRY_H
#define LOGENTRY_H

#include <fstream>
#include <iostream>
#include <mutex>
#include <chrono>
#include <thread>
#include <ctime>
#include "utilities.h"

// LOGPATH and LOGNAME are set in CMakeLists.txt in the toplevel directory.
// DO NOT CHANGE THEM HERE

// where to save the logs
//
#define LOGPATH @LOGPATH@

// base name for log file name (date will be appended)
//
#define LOGNAME @LOGNAME@

long initlog();                                            // initialize the logging system
void closelog();                                           // close the log file stream
void logwrite(std::string function, std::string message);  // create a time-stamped log entry "message" from "function"
void create_new_log(int nextday_in);                       // thread to create a new log file each day

#endif
